(function(e){function t(t){for(var i,l,r=t[0],s=t[1],c=t[2],d=0,p=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&p.push(n[l][0]),n[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={app:0},o=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("md-card",[a("md-card-header",[a("div",{staticClass:"md-title"},[e._v("Kalkulácia poistenia")])]),a("md-card-content",[a("SelectWrapper",{attrs:{label:"Variant poistenia",options:e.variantValues,id:"variant",required:!0}}),e.getDisabled.zaciatokPoistenia?e._e():a("DateWrapper",{attrs:{label:"Začiatok poistenia",id:"zaciatokPoistenia",disabledDates:e.disabledDatesZaciatok}}),e.getDisabled.koniecPoistenia?e._e():a("DateWrapper",{attrs:{label:"Koniec poistenia",id:"koniecPoistenia",disabledDates:function(t){return t<e.getZaciatokPoistenia}}}),e.getDisabled.balik?e._e():a("SelectWrapper",{attrs:{label:"Balík",options:e.balikValues,id:"balik",required:!0}}),e.getDisabled.pripoistenia?e._e():a("SelectWrapper",{attrs:{label:"Pripoistenia",options:e.pripoisteniaValues,id:"pripoistenia",multiple:!0}}),e.getDisabled.pocetOsob?e._e():a("SelectWrapper",{attrs:{label:"Počet osôb",options:e.osobyValues,id:"pocetOsob",required:!0}}),a("InsuranceCalculation"),a("InsuranceVerification")],1)],1)],1)},o=[],l=a("5530"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item"},[a("md-field",[a("label",{attrs:{for:e.id}},[e._v(e._s(e.label))]),a("md-select",{attrs:{name:e.id,id:e.id,required:e.required,multiple:e.multiple},model:{value:e.getValue[e.id],callback:function(t){e.$set(e.getValue,e.id,t)},expression:"getValue[id]"}},e._l(e.options,(function(t){return a("md-option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)])},s=[],c=a("2f62"),u={name:"SelectWrapper",props:{id:String,label:String,options:Array,default:String,required:Boolean,multiple:Boolean},computed:Object(l["a"])({},Object(c["b"])(["getValue"]))},d=u,p=a("2877"),b=Object(p["a"])(d,r,s,!1,null,null,null),f=b.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("md-datepicker",{attrs:{"md-disabled-dates":e.disabledDates,"md-model-type":String,"md-immediately":""},model:{value:e.getValue[e.id],callback:function(t){e.$set(e.getValue,e.id,t)},expression:"getValue[id]"}},[a("label",[e._v(e._s(e.label))])])],1)},m=[],k={name:"DateWrapper",props:{label:String,id:String,disabledDates:Function},computed:Object(l["a"])({},Object(c["b"])(["getValue"]))},P=k,O=Object(p["a"])(P,v,m,!1,null,null,null),g=O.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.getTotal>0?a("div",{staticClass:"insurance-calculation"},[e._v(" Suma poistenia "+e._s(e.getTotal)+"€ ")]):e._e()},h=[],S={name:"InsuranceCalculation",computed:Object(l["a"])({},Object(c["b"])(["getTotal"]))},_=S,D=Object(p["a"])(_,y,h,!1,null,null,null),j=D.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"insurance-verification"},[null!==e.total?a("div",[e._v(" Odpoveď z API: "+e._s(e.total)+"€ ")]):e._e(),a("md-button",{staticClass:"md-primary",attrs:{disabled:0==e.getTotal||e.disabled},on:{click:e.verify}},[e._v("Overiť s API")])],1)},w=[],V=a("1da1"),z=(a("96cf"),a("d3b7"),a("99af"),a("fb6a"),a("ac1f"),a("1276"),function(e){var t,a;return t=e.split("."),a="".concat(t[2],"-").concat(t[1],"-").concat(t[0]),a}),T={name:"InsuranceVerification",data:function(){return{total:null,disabled:!1}},methods:{verify:function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(l["a"])({},this.$store.state),t.zaciatokPoistenia=null!==t.zaciatokPoistenia?z(t.zaciatokPoistenia):null,t.koniecPoistenia=null!==t.koniecPoistenia?z(t.koniecPoistenia):null,"CCP"===t.variant&&(delete t.zaciatokPoistenia,delete t.koniecPoistenia),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l["a"])({},t))},this.disabled=!0,e.next=8,fetch("https://zadanie.ready.aston.sk/calculate",a);case 8:return i=e.sent,e.next=11,i.json();case 11:n=e.sent,this.total=n,this.disabled=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:Object(l["a"])({},Object(c["b"])(["getTotal"]))},x=T,A=Object(p["a"])(x,C,w,!1,null,null,null),K=A.exports,R={name:"App",data:function(){return{variantValues:[{name:"Krátkodobé poistenie",value:"KCP"},{name:"Celoročné poistenie",value:"CCP"}],balikValues:[{name:"Základný",value:"ZAKLADNY"},{name:"Rozšírený",value:"ROZSIRENY"},{name:"Extra",value:"EXTRA"}],pripoisteniaValues:[{name:"Storno cesty",value:"STORNO"},{name:"Športové aktivity",value:"SPORT"}],osobyValues:[{name:"1 osoba",value:1},{name:"2 osoby",value:2},{name:"3 osoby",value:3}],disabledDatesZaciatok:function(e){var t=new Date;return t.setDate(t.getDate()),e<t}}},components:{SelectWrapper:f,DateWrapper:g,InsuranceCalculation:j,InsuranceVerification:K},computed:Object(l["a"])({},Object(c["b"])(["getDisabled","getZaciatokPoistenia","getValue"]))},N=R,Z=(a("5c0b"),Object(p["a"])(N,n,o,!1,null,null,null)),M=Z.exports,W=a("43f9"),E=a.n(W);a("caad"),a("2532"),a("b680");i["default"].use(c["a"]);var I=new c["a"].Store({state:{variant:"",zaciatokPoistenia:null,koniecPoistenia:null,balik:"",pocetOsob:null,pripoistenia:[]},getters:{getTotal:function(e){var t,a=0,i=1,n=0,o="";switch(e.balik){case"ZAKLADNY":a="KCP"===e.variant?1.2:39;break;case"ROZSIRENY":a="KCP"===e.variant?1.8:49;break;case"EXTRA":a="KCP"===e.variant?2.4:59;break;default:a=0}return i="KCP"===e.variant?e.pripoistenia.includes("STORNO")?i+.5:i:e.pripoistenia.includes("STORNO")?i+.2:i,i="KCP"===e.variant?e.pripoistenia.includes("SPORT")?i+.3:i:e.pripoistenia.includes("SPORT")?i+.1:i,n=null!==e.zaciatokPoistenia&&null!==e.koniecPoistenia?(new Date(z(e.koniecPoistenia)).getTime()-new Date(z(e.zaciatokPoistenia)).getTime())/864e5+1:0,t=""!==o?o:"KCP"===e.variant?(a*i*e.pocetOsob*n).toFixed(2):(a*i*e.pocetOsob).toFixed(2),t},getDisabled:function(e){var t={zaciatokPoistenia:!0,koniecPoistenia:!0,balik:!0,pocetOsob:!0,pripoistenia:!0};return t.zaciatokPoistenia="KCP"!==e.variant||""===e.variant,t.koniecPoistenia="KCP"!==e.variant||null===e.zaciatokPoistenia,t.balik=!("KCP"===e.variant&&null!==e.koniecPoistenia||"CCP"===e.variant&&""!==e.variant),t.pocetOsob=!(""!==e.balik&&!t.balik),t.pripoistenia=!(""!==e.balik&&!t.balik),t},getZaciatokPoistenia:function(e){var t;return t=null!==e.zaciatokPoistenia?new Date(z(e.zaciatokPoistenia)):null,t},getValue:function(e){var t,a;return t=e.zaciatokPoistenia?new Date(z(e.zaciatokPoistenia)):null,a=e.koniecPoistenia?new Date(z(e.koniecPoistenia)):null,t>a&&null!==e.zaciatokPoistenia&&null!==e.koniecPoistenia&&(e.koniecPoistenia=e.zaciatokPoistenia),e}}}),J=I;a("51de"),a("e094");i["default"].config.productionTip=!1,i["default"].use(E.a),i["default"].material.locale.dateFormat="dd.MM.yyyy",i["default"].material.locale.shortDays=["Ned","Pon","Uto","Str","Štv","Pia","Sob"],i["default"].material.locale.shorterDays=["Ne","Po","Ut","St","Št","Pi","So"],i["default"].material.locale.months=["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],i["default"].material.locale.shortMonths=["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],i["default"].material.locale.firstDayOfAWeek=1,i["default"].material.locale.cancel="Zrušiť",i["default"].material.locale.confirm="Ok",new i["default"]({render:function(e){return e(M)},el:"#app",components:{App:M},template:"<App/>",store:J}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.1f8b9b90.js.map